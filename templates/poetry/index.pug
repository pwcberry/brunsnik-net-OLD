extends ../base

block page-head
    title Poetry | brunsnik
    link(href="/style/poetry.css", rel="stylesheet", type="text/css")

block content
    -
        const pages = contents["poetry"]._.pages
            .filter(item => typeof item.metadata.title === "string" && item.metadata.title.length > 0)
            .map((item) => ({
                title: item.metadata.title,
                url: item.url,
                firstLine: item.metadata.firstLine,
                excerpt: item.metadata.excerpt
            }));
    main
        .poetry
            h1 Poetry
            p An index by title
            ol
                each item in pages
                    li.poem
                        h2
                            a(href=item.url)=item.title

        p.copyright All content on this site is !{"&copy;"}2019 brunsnik

        a.back-to-top(href="#top")="Back to top"

